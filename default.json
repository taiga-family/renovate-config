{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "baseBranches": ["main"],
  "enabledManagers": ["npm", "github-actions"],
  "fetchReleaseNotes": false,
  "internalChecksFilter": "strict",
  "branchConcurrentLimit": 0,
  "prHourlyLimit": 0,
  "prConcurrentLimit": 10,
  "labels": ["renovate"],
  "rebaseWhen": "auto",
  "automerge": true,
  "platform": "github",
  "autoApprove": true,
  "masterIssueApproval": false,
  "separateMajorMinor": true,
  "separateMinorPatch": false,
  "dependencyDashboard": false,
  "dependencyDashboardApproval": false,
  "rangeStrategy": "pin",
  "branchPrefix": "renovate/",
  "timezone": "Europe/Moscow",
  "onboarding": false,
  "requireConfig": false,
  "digest": {
    "enabled": false
  },
  "pinDigests": false,
  "cloneSubmodules": true,
  "includePaths": ["package.json", "**/package.json", "!node_modules/**"],
  "suppressNotifications": ["configErrorIssue", "deprecationWarningIssues"],
  "prBodyTemplate": "{{{table}}}{{{notes}}}{{{changelogs}}}{{{controls}}}{{{footer}}}",
  "prBodyColumns": ["Package", "Type", "Change"],
  "packageRules": [
    {
      "enabled": false,
      "matchManagers": ["npm"],
      "matchUpdateTypes": ["major"]
    },
    {
      "enabled": false,
      "depTypeList": ["engines", "peerDependencies"]
    },
    {
      "enabled": false,
      "groupName": "angular toolset",
      "matchUpdateTypes": ["major", "minor", "patch"],
      "matchPackageNames": [
        "^@angular/.*",
        "^@angular-builders/.*",
        "^@angular-devkit/.*",
        "^@nguniversal/.*",
        "zone.js",
        "rxjs"
      ]
    },
    {
      "matchUpdateTypes": ["major", "minor"],
      "matchPackageNames": ["typescript"],
      "enabled": false
    },
    {
      "enabled": true,
      "matchManagers": ["github-actions"],
      "matchUpdateTypes": ["major"]
    },
    {
      "matchUpdateTypes": ["major"],
      "labels": ["renovate", "major"]
    },
    {
      "matchUpdateTypes": ["minor"],
      "labels": ["renovate", "minor"]
    },
    {
      "matchUpdateTypes": ["patch"],
      "labels": ["renovate", "patch"]
    },
    {
      "groupName": "ng-web-apis",
      "matchPackagePatterns": ["^@ng-web-apis/.*"]
    },
    {
      "groupName": "taiga-ui",
      "matchPackagePatterns": ["@taiga-ui/cdk"],
      "postUpgradeTasks": {
        "commands": [
          "npm ci --ignore-scripts",
          "[ ! -f ./nx.json ] && npx ng update @taiga-ui/cdk@{{{newVersion}}} --force || npx nx migrate @taiga-ui/cdk --to=\"@taiga-ui/cdk@{{{newVersion}}}\" --verbose && npx nx migrate --run-migrations --if-exists"
        ]
      }
    },
    {
      "groupName": "tiptap",
      "matchPackagePatterns": ["^@tiptap/.*"]
    },
    {
      "groupName": "cspell",
      "matchPackagePatterns": ["^@cspell/.*"]
    },
    {
      "groupName": "prosemirror",
      "matchPackagePatterns": ["^prosemirror.*"]
    },
    {
      "groupName": "definitely typed",
      "matchPackagePatterns": ["^@types/.*"]
    },
    {
      "groupName": "prettier",
      "matchPackagePatterns": ["^prettier"]
    },
    {
      "groupName": "Nx toolset",
      "matchPackagePatterns": ["^@nrwl/.*", "^@nx/.*", "nx", "nx-cloud"]
    },
    {
      "groupName": "cypress toolset",
      "matchPackagePatterns": [
        "cypress",
        "cy2",
        "@types/cypress-image-snapshot",
        "cypress-image-snapshot"
      ]
    },
    {
      "groupName": "commitlint",
      "matchPackagePatterns": ["^@commitlint/.*"]
    },
    {
      "groupName": "tinkoff",
      "matchPackagePatterns": ["^@tinkoff/.*"]
    },
    {
      "groupName": "maskito",
      "matchPackagePatterns": ["^@maskito/.*"]
    },
    {
      "groupName": "rollup",
      "matchPackagePatterns": ["^rollup.*", "@rollup/pluginutils"]
    },
    {
      "groupName": "svgo",
      "matchPackagePatterns": ["@types/svgo", "svgo"]
    },
    {
      "groupName": "firebase",
      "matchPackagePatterns": ["firebase-tools"]
    },
    {
      "groupName": "stackblitz sdk",
      "matchPackagePatterns": ["^@stackblitz/.*"]
    },
    {
      "groupName": "nodejs toolset",
      "matchPackagePatterns": [
        "find-in-files",
        "ts-node",
        "wait-on",
        "kill-port",
        "http-server",
        "husky",
        "standard-version",
        "bundlemon",
        "cpy-cli",
        "express",
        "showdown"
      ]
    },
    {
      "groupName": "webpack toolset",
      "matchPackagePatterns": ["ts-loader", "less-plugin-npm-import", "postcss"]
    },
    {
      "groupName": "javascript toolset",
      "matchPackagePatterns": ["core-js", "date-fns", "parse5"]
    },
    {
      "groupName": "angular toolset",
      "matchPackagePatterns": [
        "angular-http-server",
        "ng-yandex-metrika",
        "ngx-markdown",
        "ng-morph",
        "dompurify"
      ]
    },
    {
      "groupName": "eslint",
      "matchPackagePatterns": [
        "^eslint.*",
        "^@types/eslint$",
        "^@types/eslint-.*",
        "^@angular-eslint/.*",
        "^@html-eslint/.*",
        "^@typescript-eslint/.*",
        "^@nrwl/eslint-.*",
        "^@tinkoff/eslint-.*"
      ]
    },
    {
      "groupName": "jest",
      "matchPackagePatterns": [
        "^@types/jest$",
        "^@types/jsdom$",
        "^jest.*",
        "^ts-jest$",
        "^jest-preset-angular$"
      ]
    },
    {
      "groupName": "jasmine",
      "matchPackagePatterns": ["^jasmine.*"]
    }
  ]
}
